import{r as v,c as g,g as q}from"./axios-338ce14d.js";var I={exports:{}};(function(R,x){(function(l,a){R.exports=a(v)})(g,function(l){return function(){var a={593:function(o,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.resendFailedRequest=n.getRetryInstance=n.unsetCache=n.createRequestQueueInterceptor=n.createRefreshCall=n.shouldInterceptError=n.mergeOptions=n.defaultOptions=void 0;const c=s(300);n.defaultOptions={statusCodes:[401],pauseInstanceWhileRefreshing:!1},n.mergeOptions=function(r,e){return Object.assign(Object.assign(Object.assign({},r),{pauseInstanceWhileRefreshing:e.skipWhileRefreshing}),e)},n.shouldInterceptError=function(r,e,t,u){var i,f;return!!r&&!(!((i=r.config)===null||i===void 0)&&i.skipAuthRefresh)&&!!(e.interceptNetworkError&&!r.response&&r.request.status===0||r.response&&(e!=null&&e.shouldRefresh?e.shouldRefresh(r):!((f=e.statusCodes)===null||f===void 0)&&f.includes(parseInt(r.response.status))))&&(r.response||(r.response={config:r.config}),!e.pauseInstanceWhileRefreshing||!u.skipInstances.includes(t))},n.createRefreshCall=function(r,e,t){return t.refreshCall||(t.refreshCall=e(r),typeof t.refreshCall.then=="function")?t.refreshCall:(console.warn("axios-auth-refresh requires `refreshTokenCall` to return a promise."),Promise.reject())},n.createRequestQueueInterceptor=function(r,e,t){return e.requestQueueInterceptorId===void 0&&(e.requestQueueInterceptorId=r.interceptors.request.use(u=>e.refreshCall.catch(()=>{throw new c.default.Cancel("Request call failed")}).then(()=>t.onRetry?t.onRetry(u):u))),e.requestQueueInterceptorId},n.unsetCache=function(r,e){r.interceptors.request.eject(e.requestQueueInterceptorId),e.requestQueueInterceptorId=void 0,e.refreshCall=void 0,e.skipInstances=e.skipInstances.filter(t=>t!==r)},n.getRetryInstance=function(r,e){return e.retryInstance||r},n.resendFailedRequest=function(r,e){return r.config.skipAuthRefresh=!0,e(r.response.config)}},300:function(o){o.exports=l}},p={};function h(o){var n=p[o];if(n!==void 0)return n.exports;var s=p[o]={exports:{}};return a[o](s,s.exports,h),s.exports}var d={};return function(){var o=d;Object.defineProperty(o,"__esModule",{value:!0});const n=h(593);o.default=function(s,c,r={}){if(typeof c!="function")throw new Error("axios-auth-refresh requires `refreshAuthCall` to be a function that returns a promise.");const e={skipInstances:[],refreshCall:void 0,requestQueueInterceptorId:void 0};return s.interceptors.response.use(t=>t,t=>{if(r=(0,n.mergeOptions)(n.defaultOptions,r),!(0,n.shouldInterceptError)(t,r,s,e))return Promise.reject(t);r.pauseInstanceWhileRefreshing&&e.skipInstances.push(s);const u=(0,n.createRefreshCall)(t,c,e);return(0,n.createRequestQueueInterceptor)(s,e,r),u.catch(i=>Promise.reject(i)).then(()=>(0,n.resendFailedRequest)(t,(0,n.getRetryInstance)(s,r))).finally(()=>(0,n.unsetCache)(s,e))})}}(),d}()})})(I);var C=I.exports;const j=q(C);export{j as c};
